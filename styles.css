/* =========================================================
   Noir Threads – cohesive stylesheet (no conflicts)
   Goals:
   - Premium black UI, readable inputs/selects
   - Clean header, real buttons, smooth hover
   - Stable product grid (no overlap)
   - Mobile stays tight, desktop stays wide but centered
========================================================= */

/* ---------- Reset ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  background:#050505;
  color:#f2f2f2;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Inter, Roboto, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
img{ display:block; max-width:100%; }
a{ color:inherit; text-decoration:none; }
button, input, select { font: inherit; }

/* ---------- Tokens ---------- */
:root{
  --bg:#050505;
  --panel:#0b0b0b;
  --panel2:#0f0f0f;
  --line:#1b1b1b;
  --line2:#242424;
  --text:#f2f2f2;
  --muted:#9a9a9a;
  --accent:#ffffff;
  --danger:#e10600;
  --radius:16px;
}

/* ---------- Utility ---------- */
.hidden{ display:none !important; }
.muted{ color:var(--muted); }
.fine{ font-size:12px; color:var(--muted); }
.row{ display:flex; align-items:center; justify-content:space-between; gap:12px; }

/* ---------- Wrap / layout ---------- */
.wrap{
  width:100%;
  max-width:1680px;
  margin:0 auto;
  padding:0 28px;
}
@media (min-width: 1800px){
  .wrap{ max-width:1920px; }
}
@media (max-width: 640px){
  .wrap{ padding:0 16px; }
}

/* ---------- Topbar ---------- */
.topbar{
  background: #0a0a0a;
  border-bottom:1px solid var(--line);
  color:#cfcfcf;
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
}
.topbar .wrap{
  height:34px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.topbar a{ opacity:.9; }
.topbar a:hover{ opacity:1; }

/* ---------- Header ---------- */
.header{
  position:sticky;
  top:0;
  z-index:60;
  background: rgba(5,5,5,.9);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--line);
}
.header-row{
  height:64px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
  font-size:12px;
  font-weight:700;
  letter-spacing:.18em;
  text-transform:uppercase;
}
.brand-dot{
  width:7px; height:7px; border-radius:999px;
  background:#fff; opacity:.9;
}

.nav{
  display:flex;
  align-items:center;
  gap:18px;
}
.nav a{
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:#cfcfcf;
  padding:8px 10px;
  border-radius:999px;
  transition: background .18s ease, color .18s ease, opacity .18s ease;
}
.nav a:hover{
  background:#101010;
  color:#fff;
}

.actions{ display:flex; align-items:center; gap:10px; }
.iconbtn{
  width:38px; height:38px;
  border-radius:999px;
  border:1px solid var(--line2);
  background: var(--panel);
  display:inline-flex; align-items:center; justify-content:center;
  transition: background .18s ease, border-color .18s ease, transform .18s ease;
}
.iconbtn:hover{
  background:#121212;
  border-color:#2a2a2a;
  transform: translateY(-1px);
}
.pill{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:8px 12px;
  border:1px solid var(--line2);
  border-radius:999px;
  background: var(--panel);
  color:#e7e7e7;
  font-size:12px;
}
.count{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:22px;
  height:22px;
  padding:0 8px;
  border-radius:999px;
  background:#111;
  border:1px solid #262626;
  color:#fff;
  font-size:12px;
}

/* Mobile header behavior */
@media (max-width: 760px){
  .nav{ display:none; }
}

/* ---------- Headings ---------- */
.h1{
  font-size:44px;
  line-height:1.1;
  font-weight:750;
}
.h2{
  font-size:12px;
  letter-spacing:.22em;
  text-transform:uppercase;
  margin:0;
}
.section-head{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:12px;
  margin:26px 0 10px;
}
.navlink{
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:#cfcfcf;
  opacity:.9;
}
.navlink:hover{ opacity:1; }

/* ---------- Buttons ---------- */
.btn{
  padding:10px 14px;
  border-radius:12px;
  border:1px solid var(--line2);
  background: var(--panel);
  color: var(--text);
  font-size:13px;
  transition: transform .18s ease, background .18s ease, border-color .18s ease, opacity .18s ease;
}
.btn:hover{
  background:#141414;
  border-color:#303030;
  transform: translateY(-1px);
}
.btn:disabled{
  opacity:.5;
  cursor:not-allowed;
  transform:none;
}
.btn.primary{
  background:#fff;
  color:#000;
  border-color:#fff;
}
.btn.primary:hover{
  background:#eaeaea;
}
.btn.wide{ flex:1; }
.btnrow{ display:flex; gap:10px; flex-wrap:wrap; }

/* ---------- Forms (fix dropdown readability) ---------- */
.input, select{
  width:100%;
  padding:10px 10px;
  border-radius:10px;
  border:1px solid var(--line2);
  background:#0f0f0f;
  color:#f1f1f1;
  outline:none;
}
.input::placeholder{ color:#777; }
select{
  appearance:none;
  background-image:
    linear-gradient(45deg, transparent 50%, #9a9a9a 50%),
    linear-gradient(135deg, #9a9a9a 50%, transparent 50%);
  background-position:
    calc(100% - 18px) 50%,
    calc(100% - 12px) 50%;
  background-size:6px 6px, 6px 6px;
  background-repeat:no-repeat;
  padding-right:34px;
}

/* ---------- Hero ---------- */
.hero{
  margin-top:18px;
  border-radius: var(--radius);
  overflow:hidden;
  border:1px solid var(--line);
  background: #050505;
}
.hero-media{
  height: 360px;
  background-size: cover;
  background-position: center;
  filter: saturate(1.05) contrast(1.05);
}
.hero-body{
  padding: 28px;
  background: linear-gradient(180deg, rgba(0,0,0,.0) 0%, rgba(0,0,0,.55) 30%, rgba(0,0,0,.95) 100%);
  margin-top:-120px;
}
.hero-sub{
  color:#bdbdbd;
  max-width:720px;
  font-size:13px;
  line-height:1.6;
  margin-top:10px;
}
@media (max-width:640px){
  .h1{ font-size:34px; }
  .hero-media{ height: 280px; }
  .hero-body{ padding: 18px; margin-top:-90px; }
}

/* ---------- Shop Layout ---------- */
.shoplayout{
  display:grid;
  grid-template-columns: 320px 1fr;
  gap:36px;
  margin-top: 18px;
}
@media (max-width: 980px){
  .shoplayout{ grid-template-columns: 1fr; gap:18px; }
}

.filters{
  position: sticky;
  top: 92px;
  border:1px solid var(--line);
  background: var(--panel);
  border-radius: var(--radius);
  padding:18px;
}
@media (max-width: 980px){
  .filters{ position: relative; top:auto; }
}
.filter-title{
  font-size:12px;
  letter-spacing:.22em;
  text-transform:uppercase;
  margin-bottom:14px;
}
.fgroup{ margin-bottom:16px; }
.flabel{ font-size:12px; color:#b6b6b6; margin-bottom:6px; }

.range{ width:100%; }

.checks{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:8px;
}
.check{
  display:flex;
  gap:8px;
  align-items:center;
  font-size:12px;
  color:#d0d0d0;
  padding:8px 10px;
  border:1px solid var(--line2);
  border-radius:12px;
  background:#0f0f0f;
}
.check input{ accent-color:#fff; }

/* ---------- Product Grid ---------- */
.grid{
  display:grid;
  gap:22px;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  margin-top: 16px;
}
@media (min-width: 1400px){
  .grid{ grid-template-columns: repeat(auto-fill, minmax(270px, 1fr)); }
}
@media (max-width: 640px){
  .grid{ grid-template-columns: repeat(2, 1fr); gap:14px; }
}

.card{
  display:flex;
  flex-direction:column;
  background: transparent;
}

/* IMPORTANT: media is anchor, must be block so layout doesn't break */
.media{
  width:100%;
  aspect-ratio: 1 / 1;
  background:#0a0a0a;
  overflow:hidden;
  position:relative;
  display:block;
  border:1px solid var(--line);
  border-radius: 14px;
}
.media img{
  width:100%;
  height:100%;
  object-fit:cover;
  transition: transform .35s ease, filter .35s ease;
}
.card:hover .media img{
  transform: scale(1.02);
  filter: contrast(1.03);
}

.sold{
  position:absolute;
  left:12px;
  bottom:12px;
  background: var(--danger);
  color:#fff;
  font-size:11px;
  letter-spacing:.12em;
  text-transform:uppercase;
  padding:6px 10px;
  border-radius:10px;
}

.cardbody{
  padding: 12px 2px 0;
  min-height: 96px; /* ensures text never “gets covered” */
}

.pname{
  font-size:12px;
  font-weight:700;
  letter-spacing:.16em;
  text-transform:uppercase;
  line-height:1.3;
  margin-bottom:6px;
}
.price{
  font-size:13px;
  font-weight:700;
  color:#f0f0f0;
}
.sub{
  font-size:12px;
  color:#9a9a9a;
  margin-top:6px;
}

.cardbtns{
  display:flex;
  gap:8px;
  margin-top:10px;
  height:44px;
  align-items:center;
  opacity:0;
  transform: translateY(6px);
  transition: opacity .18s ease, transform .18s ease;
}
.card:hover .cardbtns{
  opacity:1;
  transform: translateY(0);
}
@media (max-width: 760px){
  .cardbtns{ opacity:1; transform:none; } /* no hover on mobile */
}

.heart{
  width:42px;
  padding:10px 0;
  text-align:center;
}
.heart.on{ color:#ff3b3b; }

/* ---------- Drawers / Modals / Overlay ---------- */
#overlay{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.55);
  z-index:70;
}
.drawer, .modal{
  position:fixed;
  top:0;
  height:100%;
  z-index:80;
}
.drawer{
  right:0;
  width:min(420px, 92vw);
  background: var(--panel);
  border-left:1px solid var(--line);
  padding:16px;
}
.modal{
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}
.modal-card{
  width:min(720px, 96vw);
  background: var(--panel);
  border:1px solid var(--line);
  border-radius: var(--radius);
  padding:16px;
}
.drawer-link{
  display:block;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--line2);
  background:#0f0f0f;
  margin-bottom:10px;
}
.drawer-link:hover{ background:#141414; }

/* Cart lines */
.cartline{ border-bottom:1px solid var(--line); padding:12px 0; }
.cartline-top{ display:flex; justify-content:space-between; gap:10px; }
.cartline-name{ font-weight:700; letter-spacing:.08em; text-transform:uppercase; font-size:12px; }
.cartline-meta{ color:#9a9a9a; font-size:12px; margin-top:4px; }

.qtyrow{ display:flex; align-items:center; gap:8px; }
.qtybtn{
  width:34px; height:34px;
  border-radius:10px;
  border:1px solid var(--line2);
  background:#0f0f0f;
}
.qtybtn:hover{ background:#141414; }
.qtyval{ min-width:18px; text-align:center; }

/* Toast */
#toast{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:22px;
  background:#101010;
  border:1px solid var(--line2);
  color:#fff;
  padding:10px 14px;
  border-radius:999px;
  z-index:90;
}

/* Product page grid fallback on mobile */
@media (max-width: 900px){
  .grid[style*="repeat(12"]{
    grid-template-columns: 1fr !important;
  }
}
